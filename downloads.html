<!DOCTYPE html>

<body>
	<button onclick="downloadLatest(false)">Download Latest Release</button> <br>
	<button onclick="downloadLatest(true)">Download Latest Beta</button> <br>

	<br>
	or...
	<br><br>

	<label for="version">Choose a version: </label>

	<select name="version" id="version">
	  <option value="The Infection 0.7.0 Beta-3.jar">0.7.0 Beta-3</option>
	  <option value="The Infection 0.7.0 Beta-2.jar">0.7.0 Beta-2</option>
	  <option value="The Infection 0.7.0 Beta-1.jar">0.7.0 Beta-1</option>
	  <option value="The Infection 0.6.3.jar">0.6.3</option>
	  <option value="The Infection 0.6.2.jar">0.6.2</option>
	  <option value="The Infection 0.6.1.jar">0.6.1</option>
	  <option value="The Infection 0.6.0.jar">0.6.0</option>
	  <option value="The Infection 0.6.0 Beta-1.jar">0.6.0 Beta-1</option>
	  <option value="The Infection 0.5.0.jar">0.5.0</option>
	  <option value="The Infection 0.4.1.jar">0.4.1</option>
	  <option value="The Infection 0.4.0.jar">0.4.0</option>
	  <option value="The Infection 0.3.0.jar">0.3.0</option>
	  <option value="The Infection 0.2.1.jar">0.2.1</option>
	  <option value="The Infection 0.2.0.jar">0.2.0</option>
	  <option value="The Infection 0.1.0.jar">0.1.0</option>
	</select> 

	<br><br>

	<button onclick="downloadVersion(document.getElementById('version').selectedOptions[0].value)">Download</button>

	<script>
		function downloadVersion(version) {
			window.open(("./versions/" + version).replace(/\s/g, "%20"));
		}

		function downloadLatest(beta) {
			let done = false;

			Object.entries(document.getElementById('version').options).map(i => {
				if (!done) {
					if (i[1].innerText.includes("Beta")) {
						if (beta) {
							downloadVersion("The Infection " + i[1].innerText + ".jar");
							done = true;
						}
					} else if (!beta) {
						downloadVersion("The Infection " + i[1].innerText + ".jar");
						done = true;
					}
				}
			});
		}
	</script>
</body>